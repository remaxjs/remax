<template name="REMAX_TPL">
  <block wx:for="{{$$REMAX_ROOT}}" wx:key="{{item.id}}">
    <template is="REMAX_TPL_1" data="{{i: item}}"/>
  </block>
</template>

<wxs module="_h">
  module.exports = {
    v: function(value) {
      return value !== undefined ? value : '';
    }
  };
</wxs>

<% for (var i = 1; i <= 50; i++) { %>
    <%var id = i; %>
<template name="REMAX_TPL_<%= id%>">
  <block>
    <block wx:if="{{i && i.text}}">{{i.text}}</block>
    <block wx:if="{{i.type === 'root'}}">
      <block wx:for="{{i.children}}" wx:key="{{item.id}}">
        <template is="REMAX_TPL_<%= id + 1%>" data="{{ i: item}}"/>
      </block>
    </block>
    <% for (let component of components) { %>
      <%- include('./component.ejs', {
        type: component.type,
        props: component.props,
        id: component.id,
        templateId: id + 1
      }) %>
    <% } %>
  </block>
</template>
<% } %>